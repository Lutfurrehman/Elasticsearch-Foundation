#### Snapshot & Restore Excercise ####
######################################
###Register repository without repo.path settings
PUT _snapshot/urname_backup
{
  "type": "fs",
  "settings": {
    "location": "path/to/snapshot/folder"
  }
}
### successful?
### Why Not?
### whats the error
### add path in YML
### path.repo : "path/to/repo"
### try now
PUT _snapshot/urname_backup
{
  "type": "fs",
  "settings": {
    "location": "/Users/rehman/Desktop/snapshot"
  }
}
### successfull ?
### what Lessson we have Learned?
### Must add path.repo in node YML file
########################################

### Retrieve information about a registered repository
GET _snapshot/urname_backup

### To retrieve information about all registered snapshot repositories
GET _snapshot

### or 
GET _snapshot/_all

##############################################
### Taking snapshot
PUT _snapshot/urname_backup/snapshot1_urname
### or
PUT _snapshot/urname_backup/snapshot2_urname?wait_for_completion=true
### Note the difference

### Get information about snapshot
GET _snapshot/urname_backup/snapshot1_urname
GET _snapshot/urname_backup/snapshot2_urname

### Get information about Multiple snapshots
GET _snapshot/urname_backup/snapshot1_urname,snapshot2_urname

### Get information about all snapshots
GET _snapshot/urname_backup/_all

### Delete snapshot
DELETE _snapshot/urname_backup/snapshot2_urname

###################################################
### Restore

POST /_snapshot/urname_backup/snapshot1_urname/_restore
### successful?
### Why not?
### try this now
POST /_snapshot/urname_backup/snapshot1_urname/_restore
{
  "include_global_state": true,
  "rename_pattern": "(.+)",
  "rename_replacement": "restored_index_$1"
}

### check if you have new indecies with name restored
GET _cat/indices
GET _cat/indices?v

#### END OF SNAPSHOT & RESTORE EXERCISE ####
############################################
